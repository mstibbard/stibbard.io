#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check prettier standards
yarn check:format ||
(
  echo '
        ğŸ¤¢ ğŸ¤¢ ğŸ¤¢ ğŸ¤¢
        Prettier Check Failed.
        Run yarn format, add changes and try commit again.
        ğŸ¤¢ ğŸ¤¢ ğŸ¤¢ ğŸ¤¢
        ';
  false;
)

# Check types
yarn run check ||
(
  echo '
        ğŸ˜¤ ğŸ˜¤ ğŸ˜¤ ğŸ˜¤
        Type Check Failed.
        Make the changes above, add changes and re-try commit.
        ğŸ˜¤ ğŸ˜¤ ğŸ˜¤ ğŸ˜¤
        ';
  false;
)

yarn build ||
(
  echo '
        âŒ âŒ âŒ âŒ
        Build failed: View the errors above to see why.
        âŒ âŒ âŒ âŒ
        ';
  false;
)

echo '
      âœ… Prettier 
      âœ… ESLint
      âœ… Build
      All passed. Committing now.
      ';
